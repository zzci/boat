<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>系统信息</title>
    <style>
        /* 基础样式 */
        body {
            background-color: #f3f4f6;
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0;
            font-family: 'Custom Chinese Font', sans-serif;
            touch-action: none; /* 防止浏览器默认的触摸行为 */
        }

        .container {
            background-color: white;
            padding: 2rem;
            border-radius: 0.5rem;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
            max-width: 42rem;
            width: 100%;
            margin: 1rem;
            transform-origin: center center;
            transition: transform 0.1s ease-out;
        }

        .title {
            font-size: 1.875rem;
            font-weight: bold;
            text-align: center;
            margin-bottom: 2rem;
            color: #1f2937;
        }

        .section {
            background-color: #f9fafb;
            padding: 1.5rem;
            border-radius: 0.5rem;
            margin-bottom: 1.5rem;
        }

        .section-title {
            font-size: 1.25rem;
            font-weight: 600;
            margin-bottom: 1rem;
            color: #374151;
        }

        .grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 1rem;
        }

        .info-group {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }

        .info-text {
            color: #4b5563;
        }

        .info-value {
            font-weight: 500;
            color: #1f2937;
        }

        .user-agent {
            font-size: 0.875rem;
        }

        .language-list {
            font-size: 0.875rem;
            color: #6b7280;
            margin-top: 0.25rem;
        }

        .zoom-controls {
            position: fixed;
            bottom: 1rem;
            right: 1rem;
            background: white;
            padding: 0.5rem;
            border-radius: 0.5rem;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            display: flex;
            gap: 0.5rem;
            align-items: center;
            z-index: 1000;
        }

        .zoom-button {
            background: #f3f4f6;
            border: none;
            padding: 0.5rem 1rem;
            border-radius: 0.25rem;
            cursor: pointer;
            font-size: 1rem;
            color: #374151;
            touch-action: manipulation; /* 优化触摸按钮的响应 */
        }

        .zoom-button:hover {
            background: #e5e7eb;
        }

        .zoom-level {
            font-size: 0.875rem;
            color: #6b7280;
            min-width: 4rem;
            text-align: center;
        }

        /* 自定义字体定义 */
        @font-face {
            font-family: 'Custom Chinese Font';
            src: url('fonts/NotoSansSC-Regular.woff2') format('woff2'),
                 url('fonts/NotoSansSC-Regular.woff') format('woff');
            font-weight: normal;
            font-style: normal;
            font-display: swap;
        }

        @font-face {
            font-family: 'Custom Chinese Font';
            src: url('fonts/NotoSansSC-Bold.woff2') format('woff2'),
                 url('fonts/NotoSansSC-Bold.woff') format('woff');
            font-weight: bold;
            font-style: normal;
            font-display: swap;
        }

        /* 触摸提示 */
        .touch-hint {
            position: fixed;
            top: 1rem;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0, 0, 0, 0.7);
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 0.25rem;
            font-size: 0.875rem;
            opacity: 0;
            transition: opacity 0.3s ease;
            pointer-events: none;
        }

        .touch-hint.visible {
            opacity: 1;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1 class="title">系统信息</h1>

        <div>
            <!-- 显示器信息 -->
            <div class="section">
                <h2 class="section-title">显示器信息</h2>
                <div class="grid">
                    <div class="info-group">
                        <p class="info-text">屏幕宽度：<span id="screenWidth" class="info-value"></span></p>
                        <p class="info-text">屏幕高度：<span id="screenHeight" class="info-value"></span></p>
                    </div>
                    <div class="info-group">
                        <p class="info-text">可用宽度：<span id="availWidth" class="info-value"></span></p>
                        <p class="info-text">可用高度：<span id="availHeight" class="info-value"></span></p>
                    </div>
                </div>
            </div>

            <!-- 浏览器信息 -->
            <div class="section">
                <h2 class="section-title">浏览器信息</h2>
                <div class="info-group">
                    <p class="info-text">浏览器名称：<span id="browserName" class="info-value"></span></p>
                    <p class="info-text">浏览器版本：<span id="browserVersion" class="info-value"></span></p>
                    <p class="info-text">操作系统：<span id="os" class="info-value"></span></p>
                    <p class="info-text">缩放级别：<span id="zoomLevel" class="info-value"></span></p>
                    <p class="info-text">首选语言：<span id="primaryLanguage" class="info-value"></span></p>
                    <p class="info-text">支持的语言：
                        <div id="languagesList" class="language-list"></div>
                    </p>
                    <p class="info-text">用户代理：<span id="userAgent" class="info-value user-agent"></span></p>
                </div>
            </div>
        </div>
    </div>

    <!-- 缩放控制 -->
    <div class="zoom-controls">
        <button class="zoom-button" onclick="zoomOut()">-</button>
        <span class="zoom-level" id="zoomDisplay">100%</span>
        <button class="zoom-button" onclick="zoomIn()">+</button>
    </div>

    <!-- 触摸提示 -->
    <div class="touch-hint" id="touchHint">双指捏合可缩放页面</div>

    <script>
        // 缩放控制
        let currentZoom = 100;
        const container = document.querySelector('.container');
        const zoomDisplay = document.getElementById('zoomDisplay');
        const touchHint = document.getElementById('touchHint');

        function updateZoom() {
            container.style.transform = `scale(${currentZoom / 100})`;
            zoomDisplay.textContent = `${currentZoom}%`;
        }

        function zoomIn() {
            currentZoom = Math.min(currentZoom + 25, 200);
            updateZoom();
        }

        function zoomOut() {
            currentZoom = Math.max(currentZoom - 25, 50);
            updateZoom();
        }

        // 如果系统缩放是50%，自动放大一倍
        if (window.devicePixelRatio === 0.5) {
            currentZoom = 200;
            updateZoom();
        }

        // 触摸缩放控制
        let initialDistance = 0;
        let initialZoom = 0;

        function getDistance(touch1, touch2) {
            const dx = touch1.clientX - touch2.clientX;
            const dy = touch1.clientY - touch2.clientY;
            return Math.sqrt(dx * dx + dy * dy);
        }

        function handleTouchStart(e) {
            if (e.touches.length === 2) {
                initialDistance = getDistance(e.touches[0], e.touches[1]);
                initialZoom = currentZoom;
                e.preventDefault();
            }
        }

        function handleTouchMove(e) {
            if (e.touches.length === 2) {
                const currentDistance = getDistance(e.touches[0], e.touches[1]);
                const scale = currentDistance / initialDistance;
                const newZoom = Math.round(initialZoom * scale);

                // 限制缩放范围
                currentZoom = Math.min(Math.max(newZoom, 50), 200);
                updateZoom();
                e.preventDefault();
            }
        }

        // 添加触摸事件监听器
        document.addEventListener('touchstart', handleTouchStart, { passive: false });
        document.addEventListener('touchmove', handleTouchMove, { passive: false });

        // 显示触摸提示
        function showTouchHint() {
            touchHint.classList.add('visible');
            setTimeout(() => {
                touchHint.classList.remove('visible');
            }, 3000);
        }

        // 检测是否为触摸设备
        if ('ontouchstart' in window) {
            showTouchHint();
        }

        // 更新显示器信息
        document.getElementById('screenWidth').textContent = window.screen.width + 'px';
        document.getElementById('screenHeight').textContent = window.screen.height + 'px';
        document.getElementById('availWidth').textContent = window.screen.availWidth + 'px';
        document.getElementById('availHeight').textContent = window.screen.availHeight + 'px';

        // 获取浏览器信息
        const userAgent = navigator.userAgent;
        document.getElementById('userAgent').textContent = userAgent;

        // 检测浏览器
        let browserName = '未知';
        let browserVersion = '未知';

        if (userAgent.indexOf('Chrome') > -1) {
            browserName = 'Chrome';
            browserVersion = userAgent.match(/Chrome\/(\d+\.\d+\.\d+\.\d+)/)[1];
        } else if (userAgent.indexOf('Firefox') > -1) {
            browserName = 'Firefox';
            browserVersion = userAgent.match(/Firefox\/(\d+\.\d+)/)[1];
        } else if (userAgent.indexOf('Safari') > -1) {
            browserName = 'Safari';
            browserVersion = userAgent.match(/Version\/(\d+\.\d+\.\d+)/)[1];
        } else if (userAgent.indexOf('Edge') > -1) {
            browserName = 'Edge';
            browserVersion = userAgent.match(/Edge\/(\d+\.\d+\.\d+\.\d+)/)[1];
        }

        document.getElementById('browserName').textContent = browserName;
        document.getElementById('browserVersion').textContent = browserVersion;

        // 检测操作系统
        let os = '未知';
        if (userAgent.indexOf('Win') > -1) os = 'Windows';
        else if (userAgent.indexOf('Mac') > -1) os = 'MacOS';
        else if (userAgent.indexOf('Linux') > -1) os = 'Linux';
        else if (userAgent.indexOf('Android') > -1) os = 'Android';
        else if (userAgent.indexOf('iOS') > -1) os = 'iOS';

        document.getElementById('os').textContent = os;

        // 获取浏览器缩放级别
        function getZoomLevel() {
            let zoom = Math.round(window.devicePixelRatio * 100);
            return zoom + '%';
        }

        // 更新缩放级别
        document.getElementById('zoomLevel').textContent = getZoomLevel();

        // 监听缩放变化
        window.addEventListener('resize', function() {
            document.getElementById('zoomLevel').textContent = getZoomLevel();
        });

        // 获取浏览器语言信息
        function getLanguageInfo() {
            // 获取首选语言
            const primaryLanguage = navigator.language || navigator.userLanguage;
            document.getElementById('primaryLanguage').textContent = primaryLanguage;

            // 获取所有支持的语言
            const languages = navigator.languages || [primaryLanguage];
            const languagesList = document.getElementById('languagesList');
            languagesList.innerHTML = languages.map(lang => {
                // 获取语言名称
                let languageName = '';
                try {
                    const displayNames = new Intl.DisplayNames([lang], { type: 'language' });
                    languageName = displayNames.of(lang);
                } catch (e) {
                    languageName = lang;
                }
                return `${languageName} (${lang})`;
            }).join('<br>');
        }

        // 初始化语言信息
        getLanguageInfo();
    </script>
</body>
</html>
